:root {
    --bg-color: #1a202c;
    --surface-color: rgba(45, 55, 72, 0.5);
    --border-color: rgba(255, 255, 255, 0.1);
    --primary-text: #e2e8f0;
    --secondary-text: #a0aec0;
    --accent-color: #4299e1;
    --accent-glow: rgba(66, 153, 225, 0.5);
    --win-color: #38a169;
    --lose-color: #e53e3e;
    --tie-color: #dd6b20;
    --split-color: #805ad5;
    --font-family: 'Poppins', sans-serif;
    --card-width: 90px;
    --card-height: 126px;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

body {
    font-family: var(--font-family);
    background-color: var(--bg-color);
    background-image: radial-gradient(circle at top left, rgba(66, 153, 225, 0.1), transparent 30%),
                      radial-gradient(circle at bottom right, rgba(229, 62, 62, 0.05), transparent 40%);
    color: var(--primary-text);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 20px;
}

.game-container {
    width: 100%;
    max-width: 1200px; /* Increased max-width for split hands */
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
    animation: fadeIn 0.5s ease-in-out;
}

.panel {
    background: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 20px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    transition: all 0.3s ease;
}

.game-header { 
    text-align: center; 
    padding-bottom: 10px; 
}

.game-title { 
    font-size: 2.5rem; 
    font-weight: 700; 
    color: var(--primary-text); 
    text-shadow: 0 0 15px var(--accent-glow); 
}

.info-panel { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    flex-wrap: wrap; 
    gap: 20px; 
}

.bankroll-info { 
    font-size: 1.2rem; 
    font-weight: 600; 
}

.bankroll-info span { 
    color: var(--accent-color); 
    font-weight: 700; 
}

.house-edge-control { 
    display: flex; 
    align-items: center; 
    gap: 10px; 
}

.house-edge-control label { 
    font-size: 0.9rem; 
    color: var(--secondary-text); 
}

.house-edge-control input { 
    width: 50px; 
    background: rgba(0,0,0,0.3); 
    border: 1px solid var(--border-color); 
    color: var(--primary-text); 
    border-radius: 8px; 
    padding: 5px; 
    text-align: center; 
}

.game-area { 
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 20px; 
} /* Changed to 1 column for easier layout */

.dealer-section { 
    width: 100%; 
    max-width: 500px; 
    margin: 0 auto; 
} /* Center dealer */

#player-hands-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
}

.hand-section { 
    display: flex; 
    flex-direction: column; 
    gap: 15px; 
    flex-grow: 1; 
}

.player-hand { 
    transition: all 0.3s ease; 
}

.player-hand.active-hand { 
    box-shadow: 0 0 20px var(--accent-glow); 
}

.section-title { 
    font-size: 1.5rem; 
    font-weight: 600; 
    color: var(--primary-text); 
    border-bottom: 1px solid var(--border-color); 
    padding-bottom: 10px; 
}

.sum-display { 
    font-size: 1.1rem; 
    color: var(--secondary-text); 
}

.sum-display span { 
    font-weight: 700; 
    font-size: 1.5rem; 
    color: var(--accent-color); 
}

.bet-display { 
    font-size: 0.9rem; 
    color: var(--secondary-text); 
    text-align: center; 
    font-weight: 600; 
}

.cards-container { 
    min-height: calc(var(--card-height) + 10px); 
    display: flex; 
    flex-wrap: nowrap; 
    justify-content: center; 
    align-items: center; 
    padding-left: 30px; 
}

@keyframes dealCard {
    from { transform: translateY(-50px) rotateX(90deg) scale(0.8); opacity: 0; }
    to { transform: translateY(0) rotateX(0deg) scale(1); opacity: 1; }
}

.card { 
    width: var(--card-width); 
    height: var(--card-height); 
    border-radius: 8px; 
    background-color: #fff; 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5); 
    font-weight: 600; 
    display: flex; 
    flex-direction: column; 
    justify-content: space-between; 
    padding: 5px; 
    position: relative; 
    animation: dealCard 0.4s ease-out forwards; 
    margin-left: -40px; 
    flex-shrink: 0; 
}

.card:first-child { 
    margin-left: 0; 
}

.card.back { 
    background: linear-gradient(135deg, #2d3748, #4a5568); 
    color: var(--primary-text); 
    font-size: 3rem; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
}

.card.revealed { 
    animation: flipCard 0.5s ease-in-out forwards; 
}

@keyframes flipCard { 
    from { transform: rotateY(180deg); } 
    to { transform: rotateY(0deg); } 
}

.card .rank { 
    font-size: 1.4rem; 
}

.card .suit { 
    font-size: 1.8rem; 
    text-align: center; 
}

.card.red { 
    color: #c53030; 
}

.card.black { 
    color: #1a202c; 
}

.betting-section { 
    text-align: center; 
}

h3 { 
    font-size: 1.2rem; 
    font-weight: 600; 
    color: var(--secondary-text); 
    margin-bottom: 15px; 
}

.betting-controls, .bet-controls { 
    display: flex; 
    justify-content: center; 
    gap: 10px; 
    flex-wrap: wrap; 
    margin-bottom: 15px; 
}

.chip-button { 
    width: 50px; 
    height: 50px; 
    border-radius: 50%; 
    border: 2px solid rgba(255,255,255,0.5); 
    cursor: pointer; 
    transition: all 0.2s ease; 
    font-weight: 700; 
    color: var(--primary-text); 
    text-shadow: 1px 1px 2px rgba(0,0,0,0.4); 
}

.chip-button:hover { 
    transform: translateY(-5px) scale(1.1); 
    box-shadow: 0 0 15px var(--accent-glow); 
}

.chip-5 { background: #e53e3e; } 
.chip-10 { background: #4299e1; } 
.chip-25 { background: #38a169; } 
.chip-50 { background: #dd6b20; } 
.chip-100 { background: #2d3748; }

.bet-btn { 
    padding: 8px 16px; 
    background: transparent; 
    border: 1px solid var(--accent-color); 
    color: var(--accent-color); 
    border-radius: 20px; 
    cursor: pointer; 
    transition: all 0.2s ease; 
}

.bet-btn:hover { 
    background: var(--accent-color); 
    color: #fff; 
}

.current-bet { 
    font-size: 1.2rem; 
    font-weight: 600; 
    color: var(--primary-text); 
}

.current-bet span { 
    color: var(--accent-color); 
    font-weight: 700; 
}

.game-controls { 
    display: flex; 
    justify-content: center; 
    gap: 15px; 
    flex-wrap: wrap; 
}

.game-btn { 
    padding: 12px 24px; 
    font-size: 1rem; 
    font-weight: 600; 
    border: none; 
    border-radius: 25px; 
    cursor: pointer; 
    transition: all 0.3s ease; 
    color: #fff; 
    text-transform: uppercase; 
    letter-spacing: 1px; 
    box-shadow: 0 4px 15px rgba(0,0,0,0.2); 
}

.game-btn:hover:not(:disabled) { 
    transform: translateY(-3px); 
    box-shadow: 0 6px 20px rgba(0,0,0,0.3); 
}

.game-btn:disabled { 
    opacity: 0.5; 
    cursor: not-allowed; 
    transform: translateY(0); 
    box-shadow: 0 4px 15px rgba(0,0,0,0.2); 
}

.btn-deal { background: linear-gradient(45deg, var(--win-color), #68d391); }
.btn-hit { background: linear-gradient(45deg, var(--accent-color), #63b3ed); }
.btn-stand { background: linear-gradient(45deg, var(--lose-color), #fc8181); }
.btn-double { background: linear-gradient(45deg, var(--tie-color), #f6ad55); }
.btn-split { background: linear-gradient(45deg, var(--split-color), #a78bfa); }

.game-message { 
    text-align: center; 
    font-size: 1.1rem; 
    font-weight: 600; 
    padding: 15px; 
    border-radius: 12px; 
    min-height: 58px; 
    transition: all 0.3s ease; 
}

.message-win { 
    background: var(--win-color); 
    color: #fff; 
    box-shadow: 0 0 15px var(--win-color); 
}

.message-lose { 
    background: var(--lose-color); 
    color: #fff; 
    box-shadow: 0 0 15px var(--lose-color); 
}

.message-tie { 
    background: var(--tie-color); 
    color: #fff; 
    box-shadow: 0 0 15px var(--tie-color); 
}

.message-info { 
    background: transparent; 
    border: 1px solid var(--border-color); 
    color: var(--secondary-text); 
}

@media (max-width: 768px) {
    body { padding: 10px; }
    :root { --card-width: 70px; --card-height: 98px; }
    .card { margin-left: -35px; } 
    .cards-container { padding-left: 35px; }
    .game-controls { gap: 10px; } 
    .game-btn { padding: 10px 18px; font-size: 0.9rem; }
}

@media (max-width: 480px) {
    .game-title { font-size: 1.8rem; } 
    .panel { padding: 15px; } 
    .betting-controls { gap: 5px; }
    .chip-button { width: 45px; height: 45px; font-size: 0.8rem;}
    :root { --card-width: 50px; --card-height: 70px; }
    .card { margin-left: -25px; } 
    .cards-container { padding-left: 25px; }
    .card .rank { font-size: 1rem; } 
    .card .suit { font-size: 1.2rem; }
}
